# 引言

HTTP 请求-响应模型天生是半双工的，无法满足实时双向通信需求。WebSocket 正是在这一背景下诞生的协议。本节将从浏览器与服务器的角度解释 WebSocket 的握手、数据帧格式、连接管理以及与 HTTP 的兼容关系，帮助你掌握构建实时应用的关键能力。

我们会分析 WebSocket 握手过程中如何复用 HTTP 协议、如何通过 `Upgrade` 头部切换协议，并介绍心跳保活、重连策略、消息分片、压缩扩展等机制。还会对比 SSE、WebRTC、gRPC streaming 等其他实时方案，评估它们在延迟、带宽、穿透能力、浏览器兼容性上的差异。

通过本节学习，你能为在线协作、即时聊天、股票行情等场景设计稳健的 WebSocket 服务，合理规划连接数、消息格式、安全校验，让实时应用既敏捷又可维护。
