# 引言

“粘包”是 TCP 编程中最常见的陷阱之一。它不是协议的异常，而是流式传输的正常行为在应用层解析时引发的困惑。本节将以字节流的视角解释粘包产生的根源，梳理常见的拆包策略，并通过示例演示如何设计健壮的应用层协议。

我们会比较固定长度、定界符、前置长度、分段校验等多种报文格式，讨论它们在实时性、带宽、易扩展性上的优缺点；同时解析 Nagle 算法、延迟 ACK、批量发送对粘包现象的影响，让你理解为何同一份代码在不同网络环境下表现差异巨大。

经过本节训练，你可以快速定位“为什么服务端一次收到多个请求”“为什么客户端读不到完整消息”，并设计出既高效又易于维护的消息封包解包逻辑，彻底告别粘包困扰。
