# 引言

TCP 的连接建立与终止被教科书描述得十分标准：三次握手、四次挥手。然而在真实网络中，我们偶尔会看到“两次挥手”“四次握手”等看似违背常识的现象。本节将通过报文时序分析，帮助你理解这些“奇怪”行为背后的合理性。

你将在本节学到：

- TCP 状态机的完整图谱，以及各状态之间的转移条件。
- 导致握手、挥手次数变化的场景，例如延迟确认、半连接、同时打开/关闭等。
- 遇到异常握手流程时的排查方法，如何通过抓包与日志确定问题所在。

掌握这些知识后，你就能从容解释那些看似异常的 TCP 行为，也能在排查复杂连接问题时更加游刃有余。
