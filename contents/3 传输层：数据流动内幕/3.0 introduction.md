# 引言

当数据跨越了网络层的寻址与转发之后，真正决定应用是否“好用”的，是传输层的可靠性、顺序性与流量控制能力。本章聚焦 TCP、UDP 及其周边机制，从系统调用、状态机到异常处理，拆解“数据在传输层到底经历了什么”。

我们会首先回答最常见的问题：socket 是怎样抽象出来的？send/recv 成功是否意味着数据已送达？握手、挥手、重传、窗口调整在内核中如何协作？随后，通过粘包、RST、半连接、分片等案例，展示协议在高并发、弱网络、跨国链路等场景下的表现与调优空间。

完成本章后，你将具备读懂 TCP 状态图、善用抓包与系统指标定位传输层问题的能力，也能根据业务需求在 TCP 与 UDP、可靠与高效之间做出权衡。传输层不再是模糊的“黑箱”，而是你设计网络服务时可精准调度的核心组件。
